/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package ventanas;

import java.awt.HeadlessException;
import javax.swing.table.DefaultTableModel;
import java.sql.*;
import javax.swing.JOptionPane;
import clases.*;
import java.awt.Desktop;
import java.awt.Dimension;
import java.awt.Image;
import java.awt.MouseInfo;
import java.awt.Toolkit;
import java.awt.event.KeyEvent;
import java.awt.event.MouseEvent;
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URI;
import java.net.URL;
import java.net.URLConnection;
import java.time.LocalDate;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.util.Calendar;
import java.util.GregorianCalendar;
import javax.swing.JTable;
import javax.swing.table.JTableHeader;
import javax.swing.table.TableColumn;
import javax.swing.table.TableColumnModel;

/**
 *
 * @author fvr
 */
public class ConsultarAgenda extends javax.swing.JFrame {

    private LocalDate fechaA = LocalDate.now();
    DateTimeFormatter dtf = DateTimeFormatter.ofPattern("yyyy/MM/dd HH:mm:ss");
    private String fechaHora = dtf.format(LocalDateTime.now());

    public static String[] zonasV;
    public static String id;
    public static String tipo;
    public static boolean consul = false;
    Toolkit tk = Toolkit.getDefaultToolkit();
    Dimension d = tk.getScreenSize();
    int ancho = (int) d.getWidth();

    /**
     * Creates new form ConsultarAgenda
     */
    public ConsultarAgenda() {

        initComponents();
        setIconImage(getIconImage());
        jButton6.setEnabled(false);
        jFrame4.setLocationRelativeTo(this);
        setTitle("Fututel");
        this.setSize((int) d.getWidth(), (int) d.getHeight());
        setLocationRelativeTo(this);
        
        

    }

    @Override
    public Image getIconImage() {
        return Toolkit.getDefaultToolkit().getImage(ClassLoader.getSystemResource("img/fututel-icon.png"));
    }
    public DefaultTableModel modelo = new DefaultTableModel() {
        @Override
        public boolean isCellEditable(int rowIndex, int mColIndex) {
            return false;
        }
    };
    public DefaultTableModel modelo1 = new DefaultTableModel() {
        @Override
        public boolean isCellEditable(int rowIndex, int mColIndex) {
            return false;
        }
    };

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jFrame2 = new javax.swing.JFrame();
        Titulo = new javax.swing.JTextField();
        jTextField4 = new javax.swing.JTextField();
        jTextField5 = new javax.swing.JTextField();
        CC = new javax.swing.JTextField();
        CELULAR = new javax.swing.JTextField();
        DIRECCION = new javax.swing.JTextField();
        Nombre_txt = new javax.swing.JTextField();
        Nombre_txt1 = new javax.swing.JTextField();
        Nombre_txt2 = new javax.swing.JTextField();
        Nombre_txt3 = new javax.swing.JTextField();
        zonas1 = new javax.swing.JComboBox<>();
        jTextField6 = new javax.swing.JTextField();
        jScrollPane3 = new javax.swing.JScrollPane();
        COMENT = new javax.swing.JTextPane();
        jLabel3 = new javax.swing.JLabel();
        NOMBRE = new javax.swing.JTextField();
        jButton8 = new javax.swing.JButton();
        User = new javax.swing.JLabel();
        DATE = new com.toedter.calendar.JDateChooser();
        jTextField7 = new javax.swing.JTextField();
        ASIGNADO = new javax.swing.JLabel();
        Nombre_txt7 = new javax.swing.JTextField();
        jFrame1 = new javax.swing.JFrame();
        Titulo1 = new javax.swing.JTextField();
        Nombre_txt4 = new javax.swing.JTextField();
        Nombre_txt5 = new javax.swing.JTextField();
        Nombre_txt6 = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        coment = new javax.swing.JTextArea();
        idC = new javax.swing.JTextField();
        tipoA = new javax.swing.JComboBox<>();
        precio = new javax.swing.JTextField();
        jButton9 = new javax.swing.JButton();
        jButton10 = new javax.swing.JButton();
        jTextField8 = new javax.swing.JTextField();
        jTextField9 = new javax.swing.JTextField();
        User1 = new javax.swing.JLabel();
        ASIGNADO1 = new javax.swing.JLabel();
        Nombre_txt9 = new javax.swing.JTextField();
        jFrame3 = new javax.swing.JFrame();
        asignar = new javax.swing.JButton();
        instalada = new javax.swing.JButton();
        jButton5 = new javax.swing.JButton();
        jButton6 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jFrame4 = new javax.swing.JFrame();
        jScrollPane6 = new javax.swing.JScrollPane();
        modelo1.addColumn("Nombre");
        modelo1.addColumn("ID");
        jTable5 = new JTable();
        Combox1 = new javax.swing.JComboBox<>();
        Combox2 = new javax.swing.JComboBox<>();
        jTextField1 = new javax.swing.JTextField();
        jTextField2 = new javax.swing.JTextField();
        zonas = new javax.swing.JComboBox<>();
        jScrollPane2 = new javax.swing.JScrollPane();
        modelo.addColumn("Codigo");
        modelo.addColumn("Nombre");
        modelo.addColumn("fecha para instalacion");
        modelo.addColumn("comentarios");
        modelo.addColumn("Estado");
        modelo.addColumn("CC");
        modelo.addColumn("Zona");
        modelo.addColumn("Técnico");
        modelo.addColumn("Fecha_Asignaciòn");
        modelo.addColumn("...");
        modelo.addColumn("direccion");
        consultar consul = new consultar();
        jTable2 = new colorcelda();
        formatCC = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();
        jTextField3 = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        buscar = new javax.swing.JTextField();
        por = new javax.swing.JComboBox<>();
        nueva = new javax.swing.JComboBox<>();
        jButton7 = new javax.swing.JButton();

        jFrame2.setMinimumSize(new java.awt.Dimension(689, 768));

        Titulo.setEditable(false);
        Titulo.setBackground(new java.awt.Color(0, 153, 0));
        Titulo.setFont(new java.awt.Font("Arial", 1, 20)); // NOI18N
        Titulo.setForeground(new java.awt.Color(255, 255, 255));
        Titulo.setText(" AGENDA DE INSTALACIONES");
        Titulo.setBorder(null);
        Titulo.setName(""); // NOI18N
        Titulo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TituloActionPerformed(evt);
            }
        });

        jTextField4.setEditable(false);
        jTextField4.setBackground(new java.awt.Color(0, 153, 0));
        jTextField4.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField4.setForeground(new java.awt.Color(240, 240, 240));
        jTextField4.setText("     FECHA PARA INSTALACION");
        jTextField4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField4ActionPerformed(evt);
            }
        });

        jTextField5.setEditable(false);
        jTextField5.setBackground(new java.awt.Color(0, 153, 0));
        jTextField5.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField5.setForeground(new java.awt.Color(240, 240, 240));
        jTextField5.setText("                                              DATOS DEL CLIENTE TITULAR");
        jTextField5.setToolTipText("");
        jTextField5.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));

        CC.setEditable(false);
        CC.setFont(new java.awt.Font("Arial", 2, 14)); // NOI18N
        CC.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        CC.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CCMouseClicked(evt);
            }
        });

        CELULAR.setEditable(false);
        CELULAR.setFont(new java.awt.Font("Arial", 2, 14)); // NOI18N
        CELULAR.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        CELULAR.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                CELULARMouseClicked(evt);
            }
        });

        DIRECCION.setEditable(false);
        DIRECCION.setFont(new java.awt.Font("Arial", 2, 14)); // NOI18N
        DIRECCION.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        DIRECCION.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                DIRECCIONMouseClicked(evt);
            }
        });

        Nombre_txt.setEditable(false);
        Nombre_txt.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt.setText("             Nombres y Apellidos:");
        Nombre_txt.setToolTipText("");
        Nombre_txt.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txtActionPerformed(evt);
            }
        });

        Nombre_txt1.setEditable(false);
        Nombre_txt1.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt1.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt1.setText("                            No.Cédula:");
        Nombre_txt1.setToolTipText("");
        Nombre_txt1.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt1ActionPerformed(evt);
            }
        });

        Nombre_txt2.setEditable(false);
        Nombre_txt2.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt2.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt2.setText("                            No.Celular:");
        Nombre_txt2.setToolTipText("");
        Nombre_txt2.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt2ActionPerformed(evt);
            }
        });

        Nombre_txt3.setEditable(false);
        Nombre_txt3.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt3.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt3.setText("                             Direccion:");
        Nombre_txt3.setToolTipText("");
        Nombre_txt3.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt3ActionPerformed(evt);
            }
        });

        zonas1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] {}));
        zonas1.setPreferredSize(new java.awt.Dimension(100, 20));
        try {

            int i=0;
            PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("select count(*) from zonas order by id asc");
            ResultSet rs = pst.executeQuery();

            if(rs.next()){
                i=Integer.parseInt(rs.getString("count(*)"));
            }

            zonasV = new String[i];
            pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("select * from zonas order by id asc");
            rs = pst.executeQuery();
            i=0;
            while(rs.next()){
                zonas1.addItem(rs.getString("id").toString().trim()+". "+rs.getString("nombre").toString().trim());
                zonasV[i]=rs.getString("id");
                i++;

            }

        } catch (Exception e) {

        }
        zonas1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                zonas1ActionPerformed(evt);
            }
        });

        jTextField6.setEditable(false);
        jTextField6.setBackground(new java.awt.Color(0, 153, 0));
        jTextField6.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField6.setForeground(new java.awt.Color(240, 240, 240));
        jTextField6.setText("                            ASIGNADO A:");
        jTextField6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField6ActionPerformed(evt);
            }
        });

        COMENT.setEditable(false);
        jScrollPane3.setViewportView(COMENT);

        jLabel3.setText("comentarios");

        NOMBRE.setEditable(false);
        NOMBRE.setFont(new java.awt.Font("Arial", 2, 14)); // NOI18N
        NOMBRE.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        NOMBRE.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                NOMBREMouseClicked(evt);
            }
        });

        jButton8.setBackground(new java.awt.Color(255, 0, 0));
        jButton8.setForeground(new java.awt.Color(255, 255, 255));
        jButton8.setText("VOLVER");
        jButton8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton8ActionPerformed(evt);
            }
        });

        User.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        User.setText("agend user");

        DATE.setDateFormatString("yyyy-MM-dd");
        DATE.setDoubleBuffered(false);
        DATE.setEnabled(false);

        jTextField7.setEditable(false);
        jTextField7.setBackground(new java.awt.Color(0, 153, 0));
        jTextField7.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField7.setForeground(new java.awt.Color(240, 240, 240));
        jTextField7.setText("                     AGENDADO POR:");
        jTextField7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField7ActionPerformed(evt);
            }
        });

        Nombre_txt7.setEditable(false);
        Nombre_txt7.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt7.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt7.setText("  Zona:");
        Nombre_txt7.setToolTipText("");
        Nombre_txt7.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt7ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jFrame2Layout = new javax.swing.GroupLayout(jFrame2.getContentPane());
        jFrame2.getContentPane().setLayout(jFrame2Layout);
        jFrame2Layout.setHorizontalGroup(
            jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jFrame2Layout.createSequentialGroup()
                .addGap(45, 45, 45)
                .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jFrame2Layout.createSequentialGroup()
                        .addComponent(jTextField7, javax.swing.GroupLayout.PREFERRED_SIZE, 215, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(User, javax.swing.GroupLayout.PREFERRED_SIZE, 223, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jFrame2Layout.createSequentialGroup()
                        .addComponent(jTextField6, javax.swing.GroupLayout.PREFERRED_SIZE, 215, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(ASIGNADO, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 124, Short.MAX_VALUE)
                        .addComponent(jButton8)
                        .addGap(50, 50, 50))))
            .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jFrame2Layout.createSequentialGroup()
                    .addGap(0, 42, Short.MAX_VALUE)
                    .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addGap(158, 158, 158)
                            .addComponent(Titulo, javax.swing.GroupLayout.PREFERRED_SIZE, 290, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, 215, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(5, 5, 5)
                            .addComponent(DATE, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, 596, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addComponent(Nombre_txt, javax.swing.GroupLayout.PREFERRED_SIZE, 213, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(7, 7, 7)
                            .addComponent(NOMBRE, javax.swing.GroupLayout.PREFERRED_SIZE, 376, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addComponent(Nombre_txt1, javax.swing.GroupLayout.PREFERRED_SIZE, 213, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(7, 7, 7)
                            .addComponent(CC, javax.swing.GroupLayout.PREFERRED_SIZE, 376, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addComponent(Nombre_txt2, javax.swing.GroupLayout.PREFERRED_SIZE, 213, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(7, 7, 7)
                            .addComponent(CELULAR, javax.swing.GroupLayout.PREFERRED_SIZE, 376, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addComponent(Nombre_txt3, javax.swing.GroupLayout.PREFERRED_SIZE, 213, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(7, 7, 7)
                            .addComponent(DIRECCION, javax.swing.GroupLayout.PREFERRED_SIZE, 376, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addGap(130, 130, 130)
                            .addComponent(Nombre_txt7, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGap(10, 10, 10)
                            .addComponent(zonas1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addComponent(jLabel3)
                        .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 590, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGap(0, 51, Short.MAX_VALUE)))
        );
        jFrame2Layout.setVerticalGroup(
            jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jFrame2Layout.createSequentialGroup()
                .addContainerGap(477, Short.MAX_VALUE)
                .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextField7, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(User, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextField6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(ASIGNADO, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton8))
                .addGap(30, 30, 30))
            .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jFrame2Layout.createSequentialGroup()
                    .addGap(0, 0, Short.MAX_VALUE)
                    .addComponent(Titulo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(51, 51, 51)
                    .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jTextField4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jFrame2Layout.createSequentialGroup()
                            .addGap(1, 1, 1)
                            .addComponent(DATE, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGap(18, 18, 18)
                    .addComponent(jTextField5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(7, 7, 7)
                    .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(Nombre_txt, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(NOMBRE, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGap(8, 8, 8)
                    .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(Nombre_txt1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(CC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGap(9, 9, 9)
                    .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(Nombre_txt2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(CELULAR, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGap(9, 9, 9)
                    .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(Nombre_txt3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(DIRECCION, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGap(9, 9, 9)
                    .addGroup(jFrame2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(Nombre_txt7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(zonas1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGap(49, 49, 49)
                    .addComponent(jLabel3)
                    .addGap(6, 6, 6)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 142, Short.MAX_VALUE)))
        );

        jFrame1.setMinimumSize(new java.awt.Dimension(513, 580));

        Titulo1.setEditable(false);
        Titulo1.setBackground(new java.awt.Color(0, 153, 0));
        Titulo1.setFont(new java.awt.Font("Arial", 1, 20)); // NOI18N
        Titulo1.setForeground(new java.awt.Color(255, 255, 255));
        Titulo1.setText("  AGREGAR AGENDA ");
        Titulo1.setBorder(null);
        Titulo1.setName(""); // NOI18N
        Titulo1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Titulo1ActionPerformed(evt);
            }
        });

        Nombre_txt4.setEditable(false);
        Nombre_txt4.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt4.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt4.setText(" ID del cliente:");
        Nombre_txt4.setToolTipText("");
        Nombre_txt4.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt4ActionPerformed(evt);
            }
        });

        Nombre_txt5.setEditable(false);
        Nombre_txt5.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt5.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt5.setText(" tipo de agenda:");
        Nombre_txt5.setToolTipText("");
        Nombre_txt5.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt5ActionPerformed(evt);
            }
        });

        Nombre_txt6.setEditable(false);
        Nombre_txt6.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt6.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt6.setText("  comentarios:");
        Nombre_txt6.setToolTipText("");
        Nombre_txt6.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt6ActionPerformed(evt);
            }
        });

        jScrollPane1.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_ALWAYS);
        jScrollPane1.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);

        coment.setEditable(false);
        coment.setColumns(20);
        coment.setRows(5);
        coment.setPreferredSize(new java.awt.Dimension(300, 0));
        jScrollPane1.setViewportView(coment);

        idC.setEditable(false);
        idC.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                idCMouseClicked(evt);
            }
        });
        idC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                idCActionPerformed(evt);
            }
        });

        tipoA.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "soportes", "retiros", "traslados", "migraciones","reubicaciones","reinstalacion","plan dual" }));
        tipoA.setEnabled(false);
        tipoA.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tipoAActionPerformed(evt);
            }
        });

        precio.setEditable(false);
        precio.setText("0");

        jButton9.setBackground(new java.awt.Color(255, 0, 0));
        jButton9.setForeground(new java.awt.Color(255, 255, 255));
        jButton9.setText("VOLVER");
        jButton9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton9ActionPerformed(evt);
            }
        });

        jButton10.setText("comprobar");
        jButton10.setEnabled(false);
        jButton10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton10ActionPerformed(evt);
            }
        });

        jTextField8.setEditable(false);
        jTextField8.setBackground(new java.awt.Color(0, 153, 0));
        jTextField8.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField8.setForeground(new java.awt.Color(240, 240, 240));
        jTextField8.setText(" AGENDADO POR:");
        jTextField8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField8ActionPerformed(evt);
            }
        });

        jTextField9.setEditable(false);
        jTextField9.setBackground(new java.awt.Color(0, 153, 0));
        jTextField9.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField9.setForeground(new java.awt.Color(240, 240, 240));
        jTextField9.setText("        ASIGNADO A:");
        jTextField9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField9ActionPerformed(evt);
            }
        });

        User1.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        User.setText("agend user");

        Nombre_txt9.setEditable(false);
        Nombre_txt9.setBackground(new java.awt.Color(153, 153, 153));
        Nombre_txt9.setFont(new java.awt.Font("Arial", 0, 14)); // NOI18N
        Nombre_txt9.setText("  precio:");
        Nombre_txt9.setToolTipText("");
        Nombre_txt9.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        Nombre_txt9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Nombre_txt9ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jFrame1Layout = new javax.swing.GroupLayout(jFrame1.getContentPane());
        jFrame1.getContentPane().setLayout(jFrame1Layout);
        jFrame1Layout.setHorizontalGroup(
            jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jFrame1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jFrame1Layout.createSequentialGroup()
                        .addComponent(Titulo1, javax.swing.GroupLayout.PREFERRED_SIZE, 210, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(117, 293, Short.MAX_VALUE))
                    .addGroup(jFrame1Layout.createSequentialGroup()
                        .addGap(8, 8, 8)
                        .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jFrame1Layout.createSequentialGroup()
                                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(Nombre_txt6, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(Nombre_txt5, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(Nombre_txt9, javax.swing.GroupLayout.PREFERRED_SIZE, 68, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(Nombre_txt4, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jFrame1Layout.createSequentialGroup()
                                        .addComponent(idC, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jButton10))
                                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 298, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(tipoA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(precio, javax.swing.GroupLayout.PREFERRED_SIZE, 109, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(12, 12, 12))
                            .addGroup(jFrame1Layout.createSequentialGroup()
                                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addGroup(jFrame1Layout.createSequentialGroup()
                                        .addComponent(jTextField9, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(ASIGNADO1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                    .addGroup(jFrame1Layout.createSequentialGroup()
                                        .addComponent(jTextField8, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(User1, javax.swing.GroupLayout.PREFERRED_SIZE, 223, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(22, 22, 22)
                                .addComponent(jButton9)))
                        .addGap(0, 0, Short.MAX_VALUE))))
        );
        jFrame1Layout.setVerticalGroup(
            jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jFrame1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(Titulo1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(26, 26, 26)
                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(Nombre_txt4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(idC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton10))
                .addGap(18, 18, 18)
                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(Nombre_txt5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tipoA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(15, 15, 15)
                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(Nombre_txt9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(precio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32)
                .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jFrame1Layout.createSequentialGroup()
                        .addComponent(Nombre_txt6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(233, 233, 233)
                        .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jTextField8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(User1, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(6, 6, 6)
                        .addGroup(jFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(ASIGNADO1, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextField9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButton9)))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 183, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jFrame3.setMinimumSize(new java.awt.Dimension(125, 240));
        jFrame3.setResizable(false);

        asignar.setBackground(new java.awt.Color(204, 153, 0));
        asignar.setForeground(new java.awt.Color(255, 255, 255));
        asignar.setText("Asignar");
        asignar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                asignarActionPerformed(evt);
            }
        });

        instalada.setBackground(new java.awt.Color(0, 102, 51));
        instalada.setForeground(new java.awt.Color(255, 255, 255));
        instalada.setText("Instalada");
        instalada.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                instaladaActionPerformed(evt);
            }
        });

        jButton5.setBackground(new java.awt.Color(0, 0, 0));
        jButton5.setForeground(new java.awt.Color(255, 255, 255));
        jButton5.setText("Desasignar");
        jButton5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton5ActionPerformed(evt);
            }
        });

        jButton6.setBackground(new java.awt.Color(255, 255, 51));
        jButton6.setForeground(new java.awt.Color(255, 255, 255));
        jButton6.setText("Cerrar Soporte");
        jButton6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton6ActionPerformed(evt);
            }
        });

        jButton3.setBackground(new java.awt.Color(255, 0, 0));
        jButton3.setForeground(new java.awt.Color(255, 255, 255));
        jButton3.setText("Borrar");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jButton2.setBackground(new java.awt.Color(0, 153, 0));
        jButton2.setForeground(new java.awt.Color(255, 255, 255));
        jButton2.setText("Editar");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jFrame3Layout = new javax.swing.GroupLayout(jFrame3.getContentPane());
        jFrame3.getContentPane().setLayout(jFrame3Layout);
        jFrame3Layout.setHorizontalGroup(
            jFrame3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jFrame3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jFrame3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(asignar)
                    .addComponent(instalada)
                    .addComponent(jButton5)
                    .addComponent(jButton6)
                    .addComponent(jButton3)
                    .addComponent(jButton2))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jFrame3Layout.setVerticalGroup(
            jFrame3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jFrame3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(asignar)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(instalada)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton6)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton5)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton2)
                .addContainerGap(21, Short.MAX_VALUE))
        );

        jFrame4.setMinimumSize(new java.awt.Dimension(456, 450));

        jTable5.setModel(modelo1);
        String []info1=new String[4];
        try{

            PreparedStatement pst = mantenerConexion.conectando.getconec1().getcn().prepareStatement("select * from login where estado = '1' and privilege = '2'");
            ResultSet rs = pst.executeQuery();

            if(rs.next()){
                do{
                    info1[0]=rs.getString("nombre");
                    info1[1]=rs.getString("ID");

                    modelo1.addRow(info1);

                }while(rs.next());

            }
        }
        catch(SQLException e){
        }
        jTable5.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable5MouseClicked(evt);
            }
        });
        jScrollPane6.setViewportView(jTable5);

        javax.swing.GroupLayout jFrame4Layout = new javax.swing.GroupLayout(jFrame4.getContentPane());
        jFrame4.getContentPane().setLayout(jFrame4Layout);
        jFrame4Layout.setHorizontalGroup(
            jFrame4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 456, Short.MAX_VALUE)
        );
        jFrame4Layout.setVerticalGroup(
            jFrame4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane6, javax.swing.GroupLayout.DEFAULT_SIZE, 450, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setBackground(new java.awt.Color(255, 255, 255));

        Combox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "instalaciones", "traslados", "migraciones", "retiros", "soportes","reubicaciones","reinstalacion","plan dual"}));
        Combox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Combox1ActionPerformed(evt);
            }
        });

        Combox2.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Nombre", "Fecha para instalacion", "Estado", "Codigo"}));
        Combox2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                Combox2MouseClicked(evt);
            }
        });
        Combox2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                Combox2ActionPerformed(evt);
            }
        });

        jTextField1.setEditable(false);
        jTextField1.setBackground(new java.awt.Color(0, 153, 0));
        jTextField1.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField1.setForeground(new java.awt.Color(255, 255, 255));
        jTextField1.setText("Buscar en:");
        jTextField1.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jTextField1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField1ActionPerformed(evt);
            }
        });

        jTextField2.setEditable(false);
        jTextField2.setBackground(new java.awt.Color(0, 153, 0));
        jTextField2.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField2.setForeground(new java.awt.Color(255, 255, 255));
        jTextField2.setText("Ordenar por:");
        jTextField2.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jTextField2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField2ActionPerformed(evt);
            }
        });

        zonas.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] {"todos"}));
        try {
            int i=0;
            PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("select count(*) from zonas order by id asc");
            ResultSet rs = pst.executeQuery();

            if(rs.next()){
                i=Integer.parseInt(rs.getString("count(*)"));
            }

            zonasV = new String[i];
            pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("select * from zonas order by id asc");
            rs = pst.executeQuery();
            i=0;
            while(rs.next()){
                zonas.addItem(rs.getString("id").toString().trim()+". "+rs.getString("nombre").toString().trim());
                zonasV[i]=rs.getString("id");
                i++;

            }

        } catch (Exception e) {

        }
        zonas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                zonasActionPerformed(evt);
            }
        });

        jScrollPane2.setAutoscrolls(true);
        jScrollPane2.setMaximumSize(new java.awt.Dimension(0, 0));
        jScrollPane2.setPreferredSize(new java.awt.Dimension(ancho, 470));

        jTable2.setModel(modelo);
        jTable2.setColumnSelectionAllowed(true);
        jTable2.setShowVerticalLines(false);
        String []info=new String[11];
        try{
            PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("");
            ResultSet rs;
            if(zonas.getSelectedIndex()==0){
                pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("SELECT * FROM `instalaciones` INNER JOIN zonas,login WHERE instalaciones.zona = zonas.id AND instalaciones.idtecnico = login.id AND instalaciones.estate != \"INSTALADO\"");
                rs = pst.executeQuery();
            }
            else{
                pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("SELECT * FROM `instalaciones` INNER JOIN zonas,login WHERE instalaciones.zona = zonas.id AND instalaciones.idtecnico = login.id AND instalaciones.zona = ? AND instalaciones.estate != \"INSTALADO\"");
                pst.setString(1, zonasV[zonas.getSelectedIndex()-1]);
                rs = pst.executeQuery();
            }

            if(rs.next()){

                do{
                    info[0]=rs.getString("instalaciones.id");
                    info[1]=rs.getString("cliente");
                    info[2]=rs.getString("fecha_instalacion").substring(0, 10);
                    info[3]=rs.getString("notas");
                    switch(rs.getString("estate")){
                        case "PENDIENTE":
                        info[4]= "pendiente";
                        break;
                        case "ASIGNADO":
                        info[4]= "asignado";
                        break;
                        case "INSTALADO":
                        info[4]= "realizado";
                        break;
                    }

                    info[5]=rs.getString("cedula");
                    info[6]=rs.getString("zonas.nombre");
                    info[7]=rs.getString("login.nombre");
                    info[8]=rs.getString("fecha_asignacion");
                    info[9]="null";
                    info[10]=rs.getString("direccion");
                    modelo.addRow(info);

                }while(rs.next());

            }
        }
        catch(Exception e){
            JOptionPane.showMessageDialog(null, "error "+e);
        }
        jTable2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable2MouseClicked(evt);
            }
            public void mouseReleased(java.awt.event.MouseEvent evt) {
                jTable2MouseReleased(evt);
            }
        });
        jScrollPane2.setViewportView(jTable2);

        formatCC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                formatCCActionPerformed(evt);
            }
        });

        jLabel1.setText("Edite o elimine una agenda por numero de id:");

        jButton1.setBackground(new java.awt.Color(204, 0, 0));
        jButton1.setFont(new java.awt.Font("Arial", 1, 12)); // NOI18N
        jButton1.setText("VOLVER");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton4.setBackground(new java.awt.Color(51, 204, 0));
        jButton4.setFont(new java.awt.Font("Arial", 1, 11)); // NOI18N
        jButton4.setForeground(new java.awt.Color(255, 255, 255));
        jButton4.setText("refrescar");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        jTextField3.setEditable(false);
        jTextField3.setBackground(new java.awt.Color(0, 153, 0));
        jTextField3.setFont(new java.awt.Font("Arial", 1, 14)); // NOI18N
        jTextField3.setForeground(new java.awt.Color(255, 255, 255));
        jTextField3.setText("         Zona:");
        jTextField3.setBorder(javax.swing.BorderFactory.createEtchedBorder());
        jTextField3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField3ActionPerformed(evt);
            }
        });

        jLabel2.setIcon(new javax.swing.ImageIcon("C:\\Users\\bvr217\\Desktop\\aqui todo lo del otro pc\\NetBeansProjects\\FututelApp\\fututel\\fututel-icon.png")); // NOI18N

        buscar.setToolTipText("buscar...");
        buscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                buscarActionPerformed(evt);
            }
        });
        buscar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                buscarKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                buscarKeyTyped(evt);
            }
        });

        por.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "nombre", "cedula", "ID","tecnico","direccion"}));
        por.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                porActionPerformed(evt);
            }
        });

        nueva.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "NUEVA AGENDA", "NUEVA AGENDA VARIA", "NUEVA INSTALACION"}));
        nueva.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                nuevaActionPerformed(evt);
            }
        });

        jButton7.setFont(new java.awt.Font("Arial", 1, 12)); // NOI18N
        jButton7.setText("herramienta de exportacion");
        jButton7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton7ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGap(20, 20, 20)
                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(Combox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(64, 64, 64)
                .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 98, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(Combox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(53, 53, 53)
                .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(zonas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jButton4)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(buscar, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(por, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(74, 74, 74))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(52, 52, 52)
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 235, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jButton7)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jButton1))
                            .addComponent(nueva, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 231, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(formatCC, javax.swing.GroupLayout.PREFERRED_SIZE, 134, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(38, 38, 38)))
                .addGap(147, 147, 147))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton4)
                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(Combox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(Combox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextField3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(zonas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(buscar, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(por, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(27, 27, 27)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(39, 39, 39)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 39, Short.MAX_VALUE)
                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(88, 88, 88))
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(formatCC, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(43, 43, 43)
                        .addComponent(nueva, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButton1)
                            .addComponent(jButton7))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void Combox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Combox1ActionPerformed
        Ordenar ordena = new Ordenar();

        tipo = Combox1.getSelectedItem().toString().trim();
        if (tipo == "soportes") {
            jButton6.setEnabled(true);
            JTableHeader tableHeader = jTable2.getTableHeader();
            TableColumnModel tableColumnModel = tableHeader.getColumnModel();
            TableColumn tableColumn = tableColumnModel.getColumn(1);
            tableColumn.setHeaderValue("fecha/hora de creacion");

            tableHeader.repaint();
        } else {
            JTableHeader tableHeader = jTable2.getTableHeader();
            TableColumnModel tableColumnModel = tableHeader.getColumnModel();
            TableColumn tableColumn = tableColumnModel.getColumn(1);
            tableColumn.setHeaderValue("fecha para instalacion");
            tableColumn = tableColumnModel.getColumn(8);
            tableColumn.setHeaderValue("Fecha_Asignaciòn");
            tableHeader.repaint();
            jButton6.setEnabled(false);
        }
        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
            modelo.removeRow(i);
        }
        if (zonas.getSelectedIndex() == 0) {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    "todos", modelo);
        } else {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    zonasV[zonas.getSelectedIndex() - 1], modelo);
        }

    }//GEN-LAST:event_Combox1ActionPerformed

    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField1ActionPerformed

    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField2ActionPerformed

    }//GEN-LAST:event_jTextField2ActionPerformed

    private void Combox2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Combox2ActionPerformed
        Ordenar ordena = new Ordenar();
        String[] info = new String[5];
        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
            modelo.removeRow(i);
        }
        if (zonas.getSelectedIndex() == 0) {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    "todos", modelo);
        } else {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    zonasV[zonas.getSelectedIndex() - 1], modelo);
        }


    }//GEN-LAST:event_Combox2ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        this.id = formatCC.getText();
        jFrame3.setVisible(false);
        consul = true;
        Ordenar ordena = new Ordenar();
        consultar consultar1 = new consultar();
        if (consultar1.devolver(id, Combox1.getSelectedItem().toString().trim()) == null) {
            JOptionPane.showMessageDialog(null, "no se encontro la agenda, ve al apartado 'AGREGAR NUEVA AGENDA' para agregar una");
        } else {

            switch (Combox1.getSelectedItem().toString()) {
                case "instalaciones":
                    AgregarActa inst = new AgregarActa();
                    inst.setVisible(true);

                    break;
                default:
                    agendasvarias var = new agendasvarias();
                    var.setVisible(true);
                    break;
            }

        }
        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
            modelo.removeRow(i);
        }
        if (zonas.getSelectedIndex() == 0) {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    "todos", modelo);
        } else {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    zonasV[zonas.getSelectedIndex() - 1], modelo);
        }
        consul = false;
        formatCC.setText("");
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        String[] datos = new String[13];
        jFrame3.setVisible(false);
        if (Combox1.getSelectedItem().toString().trim().equals("instalaciones")) {
            try {
                this.id = formatCC.getText().trim();
                formatCC.setText("");
                consultar consultar1 = new consultar();
                datos = consultar1.devolver(id, Combox1.getSelectedItem().toString().trim());
                if (datos == null) {
                    JOptionPane.showMessageDialog(null, "no se encontro la agenda, ve al apartado 'AGREGAR NUEVA AGENDA' para agregar una");
                } else {
                    PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("delete from instalaciones where id = ?");
                    pst.setString(1, id);
                    pst.executeUpdate();

                    JOptionPane.showMessageDialog(null, "Agenda Eliminada");
                    Ordenar ordena = new Ordenar();
                    String[] info = new String[5];
                    for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
                        modelo.removeRow(i);
                    }
                    if (zonas.getSelectedIndex() == 0) {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                "todos", modelo);
                    } else {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                zonasV[zonas.getSelectedIndex() - 1], modelo);
                    }

                }

            } catch (HeadlessException | SQLException e) {
                JOptionPane.showMessageDialog(null, "algo salio mal " + e);
            }
        } else {
            try {
                this.id = formatCC.getText().trim();
                formatCC.setText("");
                consultar consultar1 = new consultar();
                if (consultar1.devolver(id, Combox1.getSelectedItem().toString().trim()) == null) {
                    JOptionPane.showMessageDialog(null, "no se encontro la agenda, ve al apartado 'AGREGAR NUEVA AGENDA' para agregar una");
                } else {

                    PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("delete from agendasvarias where id = ?");
                    pst.setString(1, id);
                    pst.executeUpdate();

                    JOptionPane.showMessageDialog(null, "Agenda Eliminada");
                    Ordenar ordena = new Ordenar();
                    String[] info = new String[5];
                    for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
                        modelo.removeRow(i);
                    }
                    if (zonas.getSelectedIndex() == 0) {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                "todos", modelo);
                    } else {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                zonasV[zonas.getSelectedIndex() - 1], modelo);
                    }

                }

            } catch (HeadlessException | SQLException e) {
                JOptionPane.showMessageDialog(null, "algo salio mal " + e);
            }
        }

    }//GEN-LAST:event_jButton3ActionPerformed

    private void Combox2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_Combox2MouseClicked

    }//GEN-LAST:event_Combox2MouseClicked

    private void jTable2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable2MouseClicked
        int seleccionar = jTable2.rowAtPoint(evt.getPoint());
        jFrame3.setVisible(false);
        
        for(int i = 0; i<jTable2.getColumnCount(); i++){
            if(jTable2.getColumnName(i).equals("Codigo")){
                formatCC.setText(String.valueOf(jTable2.getValueAt(seleccionar, i)));
            }
        }
            
        
        if (evt.getButton() == MouseEvent.BUTTON3) {
            jFrame3.setVisible(true);
            jFrame3.setLocation(MouseInfo.getPointerInfo().getLocation());
        }
        if (evt.getClickCount() == 2 && evt.getButton() == MouseEvent.BUTTON1) {
                if (Combox1.getSelectedItem().toString().trim().equals("instalaciones")) {

                    consultar consultar1 = new consultar();
                    String[] datosReturnConsul = consultar1.devolver(formatCC.getText().trim(), "instalaciones");
                    Ordenar orden = new Ordenar();
                    orden.Consultar(id, modelo);
                int dia = 0;
                int mes = 0;
                int año = 0;
                try{
                    año = Integer.parseInt(datosReturnConsul[0].substring(0, 4));
                    mes = Integer.parseInt(datosReturnConsul[0].substring(5, 7)) - 1;
                    dia = Integer.parseInt(datosReturnConsul[0].substring(8, 10));
                    zonas1.setSelectedIndex(Integer.parseInt(datosReturnConsul[9]));
                } catch(Exception e){
                }
                

                Calendar calen = new GregorianCalendar(año, mes, dia);
                DATE.setDate(calen.getTime());
                NOMBRE.setText(datosReturnConsul[1]);
                CC.setText(datosReturnConsul[2]);
                CELULAR.setText(datosReturnConsul[3]);
                COMENT.setText(datosReturnConsul[4]);
                DIRECCION.setText(datosReturnConsul[5]);
                String[] datosReturn = consultar1.devolverU(datosReturnConsul[6]);
                User.setText(datosReturn[0]);
                ASIGNADO.setText(datosReturnConsul[7]);
                
                jFrame2.setVisible(true);
            } else {
                try {

                    consultar consultar1 = new consultar();
                    String[] datosReturnConsul = consultar1.devolver(formatCC.getText().trim(), Combox1.getSelectedItem().toString().trim());
                    int año = Integer.parseInt(datosReturnConsul[0].substring(0, 4));
                    int mes = Integer.parseInt(datosReturnConsul[0].substring(5, 7)) - 1;
                    int dia = Integer.parseInt(datosReturnConsul[0].substring(8, 10));

                    Calendar calen = new GregorianCalendar(año, mes, dia);

                    idC.setText(datosReturnConsul[11]);
                    Ordenar orden = new Ordenar();
                    orden.Consultar(id, modelo);
                    tipoA.setSelectedItem(datosReturnConsul[12]);
                    coment.setText(datosReturnConsul[4]);
                    String[] datosReturn = consultar1.devolverU(datosReturnConsul[6]);
                    User1.setText(datosReturn[0]);
                    ASIGNADO1.setText(datosReturnConsul[7]);

                } catch (Exception e) {
                    JOptionPane.showMessageDialog(null, e);
                }
                jFrame1.setVisible(true);
            }
        }


    }//GEN-LAST:event_jTable2MouseClicked

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        Inicio ins = new Inicio();
        ins.setVisible(true);
        this.dispose();// TODO add your handling code here:
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        Ordenar ordena = new Ordenar();
        mantenerConexion.conectando.getconec2().establecer();
        String[] info = new String[5];
        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
            modelo.removeRow(i);
        }
        if (zonas.getSelectedIndex() == 0) {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    "todos", modelo);
        } else {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    zonasV[zonas.getSelectedIndex() - 1], modelo);
        }

    }//GEN-LAST:event_jButton4ActionPerformed

    private void jTextField3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField3ActionPerformed

    private void zonasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_zonasActionPerformed
        Ordenar ordena = new Ordenar();
        String[] info = new String[5];
        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
            modelo.removeRow(i);
        }

        if (zonas.getSelectedIndex() == 0) {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    "todos", modelo);
        } else {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    zonasV[zonas.getSelectedIndex() - 1], modelo);
        }
    }//GEN-LAST:event_zonasActionPerformed

    private void jButton5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton5ActionPerformed
        String[] datos = new String[13];
        jFrame3.setVisible(false);
        try {
            if (Combox1.getSelectedItem().toString().trim().equals("instalaciones")) {
                try {
                    this.id = formatCC.getText().trim();
                    consultar consultar1 = new consultar();
                    datos = consultar1.devolver(id, Combox1.getSelectedItem().toString().trim());
                    if (datos == null) {
                        JOptionPane.showMessageDialog(null, "no se encontro la agenda, ve al apartado 'AGREGAR NUEVA AGENDA' para agregar una");
                    } else {
                        PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("update instalaciones set idtecnico = '0', estate = 'PENDIENTE',  fecha_asignacion= '1000-01-01' where id = ?");
                        pst.setString(1, formatCC.getText().trim());
                        pst.execute();
                        pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("insert into historialagendas values('0',?,?,?,'instalaciones','PENDIENTE','agendador')");
                        pst.setString(1, formatCC.getText().trim());
                        pst.setString(2, fechaHora);
                        pst.setString(3, datos[11]);
                        pst.execute();

                        JOptionPane.showMessageDialog(null, "Asignacion eliminada");
                        Ordenar ordena = new Ordenar();
                        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
                            modelo.removeRow(i);
                        }
                        if (zonas.getSelectedIndex() == 0) {
                            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                    Combox2.getSelectedItem().toString().trim(),
                                    "todos", modelo);
                        } else {
                            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                    Combox2.getSelectedItem().toString().trim(),
                                    zonasV[zonas.getSelectedIndex() - 1], modelo);
                        }

                    }

                } catch (HeadlessException | SQLException e) {
                    JOptionPane.showMessageDialog(null, "algo salio mal " + e);
                }
            } else {
                try {
                    this.id = formatCC.getText().trim();

                    consultar consultar1 = new consultar();
                    datos = consultar1.devolver(id, Combox1.getSelectedItem().toString().trim());
                    if (datos == null) {
                        JOptionPane.showMessageDialog(null, "no se encontro la agenda, ve al apartado 'AGREGAR NUEVA AGENDA' para agregar una");
                    } else {
                        PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("update agendasvarias set idtecnico = '0', estate = 'PENDIENTE',  fecha_asignacion= '1000-01-01' where id = ?");
                        pst.setString(1, formatCC.getText().trim());
                        pst.execute();
                        pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("insert into historialagendas values('0',?,?,?,'agendasvarias','PENDIENTE','agendador')");
                        pst.setString(1, formatCC.getText().trim());
                        pst.setString(2, fechaHora);
                        pst.setString(3, datos[13]);
                        pst.execute();
                        formatCC.setText("");
                        JOptionPane.showMessageDialog(null, "Asignacion eliminada");
                        Ordenar ordena = new Ordenar();
                        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
                            modelo.removeRow(i);
                        }
                        if (zonas.getSelectedIndex() == 0) {
                            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                    Combox2.getSelectedItem().toString().trim(),
                                    "todos", modelo);
                        } else {
                            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                    Combox2.getSelectedItem().toString().trim(),
                                    zonasV[zonas.getSelectedIndex() - 1], modelo);
                        }

                    }

                } catch (HeadlessException | SQLException e) {
                    JOptionPane.showMessageDialog(null, "algo salio mal " + e);
                }

            }

        } catch (Exception e) {

        }
        formatCC.setText("");
    }//GEN-LAST:event_jButton5ActionPerformed

    private void formatCCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_formatCCActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_formatCCActionPerformed

    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6ActionPerformed
        String[] info;
        Ordenar ordena = new Ordenar();
        jFrame3.setVisible(false);
        try {

            PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("update agendasvarias set estate = 'INSTALADO' WHERE id = ? ");

            pst.setString(1, formatCC.getText().trim());
            pst.executeUpdate();

        } catch (SQLException e) {
            JOptionPane.showMessageDialog(null, e);
        }
        consultar consul = new consultar();
        info = consul.devolver(formatCC.getText().trim(), "soportes");

        try {

            PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("insert into agendasrealizadas values('cerrada','soportes',?,?,'0',?,'0',?,?,?,?)");

            pst.setString(1, fechaA.toString());
            pst.setString(2, info[9]);
            pst.setString(3, info[1]);
            pst.setString(4, info[6]);
            pst.setString(5, info[2]);
            pst.setString(6, info[10]);
            pst.setString(7, info[5]);
            pst.executeUpdate();

        } catch (SQLException e) {
            JOptionPane.showMessageDialog(null, e);
        }
        try {

            PreparedStatement pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("insert into pagos values(?,'0','0','no aplica','no aplica','1000-01-01','soportes','0')");

            pst.setString(1, formatCC.getText().trim());

            pst.executeUpdate();
            JOptionPane.showMessageDialog(null, "Agenda Actualizada");

        } catch (SQLException e) {
            JOptionPane.showMessageDialog(null, e);
        }
        for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
            modelo.removeRow(i);
        }

        if (zonas.getSelectedIndex() == 0) {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    "todos", modelo);
        } else {
            ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                    Combox2.getSelectedItem().toString().trim(),
                    zonasV[zonas.getSelectedIndex() - 1], modelo);
        }

    }//GEN-LAST:event_jButton6ActionPerformed

    private void buscarKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_buscarKeyTyped


    }//GEN-LAST:event_buscarKeyTyped

    private void jTable2MouseReleased(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable2MouseReleased

    }//GEN-LAST:event_jTable2MouseReleased

    private void buscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_buscarActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_buscarActionPerformed

    private void TituloActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TituloActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_TituloActionPerformed

    private void jTextField4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField4ActionPerformed

    private void CCMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CCMouseClicked

    }//GEN-LAST:event_CCMouseClicked

    private void CELULARMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_CELULARMouseClicked
        // TODO add your handling code here:

    }//GEN-LAST:event_CELULARMouseClicked

    private void DIRECCIONMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_DIRECCIONMouseClicked

    }//GEN-LAST:event_DIRECCIONMouseClicked

    private void Nombre_txtActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txtActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txtActionPerformed

    private void Nombre_txt1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt1ActionPerformed

    private void Nombre_txt2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt2ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt2ActionPerformed

    private void Nombre_txt3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt3ActionPerformed

    private void zonas1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_zonas1ActionPerformed

    }//GEN-LAST:event_zonas1ActionPerformed

    private void jTextField6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField6ActionPerformed

    private void NOMBREMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_NOMBREMouseClicked


    }//GEN-LAST:event_NOMBREMouseClicked

    private void jButton8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton8ActionPerformed

        jFrame2.hide();

    }//GEN-LAST:event_jButton8ActionPerformed

    private void jTextField7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField7ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField7ActionPerformed

    private void Nombre_txt7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt7ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt7ActionPerformed

    private void Titulo1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Titulo1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Titulo1ActionPerformed

    private void Nombre_txt4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt4ActionPerformed

    private void Nombre_txt5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt5ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt5ActionPerformed

    private void Nombre_txt6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt6ActionPerformed

    private void idCMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_idCMouseClicked
        jButton1.setEnabled(false);
    }//GEN-LAST:event_idCMouseClicked

    private void idCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_idCActionPerformed

    }//GEN-LAST:event_idCActionPerformed

    private void tipoAActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tipoAActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_tipoAActionPerformed

    private void jButton9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton9ActionPerformed
        jFrame1.hide();
    }//GEN-LAST:event_jButton9ActionPerformed

    private void jButton10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton10ActionPerformed
        String[] cliente;
        consultar consul = new consultar();
        if (idC.getText().trim().length() >= 1) {
            cliente = consul.devolverC(idC.getText().trim());

            if (cliente != null) {

                if (cliente[6].equals("RETIRADO")) {
                    tipoA.setSelectedItem("reinstalacion");
                    tipoA.disable();
                } else {
                    tipoA.setEnabled(true);
                    tipoA.setSelectedItem("soportes");

                }
                JOptionPane.showMessageDialog(null, cliente[0] + "\n" + cliente[1] + "\n" + cliente[2] + "\n" + cliente[3] + "\n" + cliente[4] + "\n");
                jButton1.setEnabled(true);
            } else {
                JOptionPane.showMessageDialog(null, "el cliente no existe");
            }
        } else {
            JOptionPane.showMessageDialog(null, "no hay nada que comprobar");
        }

    }//GEN-LAST:event_jButton10ActionPerformed

    private void jTextField8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField8ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField8ActionPerformed

    private void jTextField9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField9ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField9ActionPerformed

    private void Nombre_txt9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_Nombre_txt9ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_Nombre_txt9ActionPerformed

    private void porActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_porActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_porActionPerformed

    private void buscarKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_buscarKeyReleased
        String opcion;
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            switch (por.getSelectedItem().toString()) {
                case "cedula":
                    opcion = "cedula";
                    break;
                case "tecnico":
                    opcion = "login.nombre";
                    break;
                case "nombre":
                    if (Combox1.getSelectedItem().toString().trim().equals("instalaciones")) {
                        opcion = "cliente";
                    } else {
                        opcion = "nombrecliente";
                    }
                    break;
                case "ID":
                    if (Combox1.getSelectedItem().toString().trim().equals("instalaciones")) {
                        opcion = "instalaciones.id";
                    } else {
                        opcion = "agendasvarias.id";
                    }
                    break;
                case "direccion":
                    if (Combox1.getSelectedItem().toString().trim().equals("instalaciones")) {
                        opcion = "instalaciones.direccion";
                    } else {
                        opcion = "agendasvarias.direccion";
                    }
                    break;
                default:
                    opcion = "cliente";
                    break;

            }
            Ordenar ordena = new Ordenar();
            for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
                modelo.removeRow(i);
            }

            if (zonas.getSelectedIndex() == 0) {
                ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                        Combox2.getSelectedItem().toString().trim(),
                        "todos", opcion, buscar.getText().trim(), modelo);
            } else {
                ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                        zonasV[zonas.getSelectedIndex() - 1],
                        Combox2.getSelectedItem().toString().trim(),
                        opcion, buscar.getText().trim(), modelo);
            }
        }
    }//GEN-LAST:event_buscarKeyReleased

    private void nuevaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_nuevaActionPerformed
        if (nueva.getSelectedItem() == "NUEVA AGENDA VARIA") {

            agendasvarias agre = new agendasvarias();
            agre.setVisible(true);
            nueva.setSelectedIndex(0);
        } else {
            AgregarActa agre = new AgregarActa();
            agre.setVisible(true);
            nueva.setSelectedIndex(0);
        }
    }//GEN-LAST:event_nuevaActionPerformed

    private void instaladaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_instaladaActionPerformed
        consultar consul = new consultar();
        String[] info = consul.devolver(formatCC.getText().trim(), Combox1.getSelectedItem().toString());
        int i;
        if (Combox1.getSelectedItem().toString().equals("instalaciones")) {
            i = 11;
        } else {
            i = 13;
        }
        if (info[8].equals("PENDIENTE") || info[i].equals("0")) {
            JOptionPane.showMessageDialog(null, "La agenda no esta asignada a ningun tecnico");
        } else {

            if (Combox1.getSelectedItem().toString().equals("instalaciones")) {
                try {
                    EncodeUrl encode = new EncodeUrl();
                    info[12] = encode.encode64(info[12]);
                    info[5] = encode.encode64(info[5]);
                    info[1] = encode.encode64(info[1]);
                    String Url = encode.encode("https://agenda.fututel.com/yotas/nuevaejecucion1.php?cedula=" + info[2] + "&valor=" + info[12] + "&ubicacion=" + info[5] + "&idagenda=" + formatCC.getText().trim() + "&idagendador=" + info[6] + "&nombrecliente=" + info[1] + "&zona=" + info[9] + "&tipo=" + Combox1.getSelectedItem().toString().trim() + "&idtecnico=" + info[11]);
                    URL uri = new URL(Url);
                    URLConnection mail = uri.openConnection();
                    BufferedReader in = new BufferedReader(
                            new InputStreamReader(
                                    mail.getInputStream()));
                    String inputLine;

                    while ((inputLine = in.readLine()) != null) {
                    }
                    in.close();
                    JOptionPane.showMessageDialog(null, "instalado");
                    jFrame3.hide();
                    Ordenar ordena = new Ordenar();
                    mantenerConexion.conectando.getconec2().establecer();
                    for (int j = modelo.getRowCount() - 1; j >= 0; j--) {
                        modelo.removeRow(j);
                    }
                    if (zonas.getSelectedIndex() == 0) {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                "todos", modelo);
                    } else {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                zonasV[zonas.getSelectedIndex() - 1], modelo);
                    }

                } catch (Exception e) {
                }

            } else {
                try {
                    EncodeUrl encode = new EncodeUrl();
                    info[14] = encode.encode64(info[14]);
                    info[5] = encode.encode64(info[5]);
                    info[1] = encode.encode64(info[1]);
                    String Url = encode.encode("https://agenda.fututel.com/yotas/nuevaejecucion1.php?cedula=" + info[2] + "&valor=" + info[14] + "&ubicacion=" + info[5] + "&idagenda=" + formatCC.getText().trim() + "&idagendador=" + info[6] + "&nombrecliente=" + info[1] + "&zona=" + info[9] + "&tipo=" + Combox1.getSelectedItem().toString() + "&idtecnico=" + info[13]);
                    URL uri = new URL(Url);
                    URLConnection mail = uri.openConnection();
                    BufferedReader in = new BufferedReader(
                            new InputStreamReader(
                                    mail.getInputStream()));
                    String inputLine;

                    while ((inputLine = in.readLine()) != null) {
                    }
                    in.close();
                    JOptionPane.showMessageDialog(null, "instalado");
                    jFrame3.hide();
                    Ordenar ordena = new Ordenar();
                    mantenerConexion.conectando.getconec2().establecer();
                    for (int j = modelo.getRowCount() - 1; j >= 0; j--) {
                        modelo.removeRow(j);
                    }
                    if (zonas.getSelectedIndex() == 0) {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                "todos", modelo);
                    } else {
                        ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                                Combox2.getSelectedItem().toString().trim(),
                                zonasV[zonas.getSelectedIndex() - 1], modelo);
                    }
                } catch (Exception e) {
                }

            }
        }

    }//GEN-LAST:event_instaladaActionPerformed

    private void asignarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_asignarActionPerformed

        jFrame3.hide();
        jFrame4.setVisible(true);

    }//GEN-LAST:event_asignarActionPerformed

    private void jTable5MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable5MouseClicked
        if (evt.getButton() == MouseEvent.BUTTON3) {
            jFrame4.setVisible(false);
        }

        if (evt.getClickCount() == 2 && evt.getButton() == MouseEvent.BUTTON1) {
            int seleccionar = jTable5.rowAtPoint(evt.getPoint());
            String tecnico = String.valueOf(jTable5.getValueAt(seleccionar, 1));
            try {
                PreparedStatement pst;
                if (Combox1.getSelectedItem().equals("instalaciones")) {
                    pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("update instalaciones set idtecnico = ?, estate = 'ASIGNADO',  fecha_asignacion= ? where id = ?");
                } else {
                    pst = mantenerConexion.conectando.getconec2().getcn().prepareStatement("update agendasvarias set idtecnico = ?, estate = 'ASIGNADO',  fecha_asignacion= ? where id = ?");
                }

                pst.setString(1, tecnico);
                pst.setString(2, fechaA.toString());
                pst.setString(3, formatCC.getText().trim());
                pst.execute();
                JOptionPane.showMessageDialog(null, "Asignacion Exitosa");
                jFrame4.hide();
                Ordenar ordena = new Ordenar();
                mantenerConexion.conectando.getconec2().establecer();
                String[] info = new String[5];
                for (int i = modelo.getRowCount() - 1; i >= 0; i--) {
                    modelo.removeRow(i);
                }
                if (zonas.getSelectedIndex() == 0) {
                    ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                        Combox2.getSelectedItem().toString().trim(),
                        "todos", modelo);
                } else {
                    ordena.OrdenarPor(Combox1.getSelectedItem().toString().trim(),
                        Combox2.getSelectedItem().toString().trim(),
                        zonasV[zonas.getSelectedIndex() - 1], modelo);
                }
            } catch (Exception e) {
            }
            consultar consul = new consultar();
            String[] info = consul.devolver(formatCC.getText().trim(), Combox1.getSelectedItem().toString());
            if (info[8].equals("PENDIENTE")) {
                JOptionPane.showMessageDialog(null, "La agenda no esta asignada a ningun tecnico");
            } else {

                if (Combox1.getSelectedItem().toString().equals("instalaciones")) {

                    try {
                        EncodeUrl encode = new EncodeUrl();
                        String Url = encode.encode("https://internet2.fututel.com/html/agenda/asignacion1.php?ubicacion=" + info[5].replace(" ", "%20").replace(".", "%2E") + "&tipo=" + Combox1.getSelectedItem().toString().replace(" ", "%20").replace(".", "%2E") + "&idagenda=" + formatCC.getText().replace(" ", "%20").replace(".", "%2E") + "&telefono=" + info[3].replace(" ", "%20").replace(".", "%2E") + "&cedula=" + info[2].replace(" ", "%20").replace(".", "%2E") + "&nombre=" + info[1].replace(" ", "%20").replace(".", "%2E") + "&zona=" + info[9].replace(" ", "%20").replace(".", "%2E") + "&idtecnico=" + info[11].replace(" ", "%20").replace(".", "%2E") + "&comentarios=" + info[4].replace(" ", "%20").replace(".", "%2E").replace("+", "%2B"));
                        URL uri = new URL(Url);
                        URLConnection mail = uri.openConnection();
                        BufferedReader in = new BufferedReader(
                            new InputStreamReader(
                                mail.getInputStream()));
                        String inputLine;

                        while ((inputLine = in.readLine()) != null) {
                        }
                        in.close();

                    } catch (Exception e) {
                    }

                } else {

                    try {
                        EncodeUrl encode = new EncodeUrl();
                        String Url = encode.encode("https://internet2.fututel.com/html/agenda/asignacion1.php?ubicacion=" + info[5].replace(" ", "%20").replace(".", "%2E") + "&tipo=" + Combox1.getSelectedItem().toString().replace(" ", "%20").replace(".", "%2E") + "&idagenda=" + formatCC.getText().replace(" ", "%20").replace(".", "%2E") + "&telefono=" + info[3].replace(" ", "%20").replace(".", "%2E") + "&cedula=" + info[2].replace(" ", "%20").replace(".", "%2E") + "&nombre=" + info[1].replace(" ", "%20").replace(".", "%2E") + "&zona=" + info[9].replace(" ", "%20").replace(".", "%2E") + "&idtecnico=" + info[13].replace(" ", "%20").replace(".", "%2E") + "&comentarios=" + info[4].replace(" ", "%20").replace(".", "%2E").replace("+", "%2B"));
                        URL uri = new URL(Url);
                        URLConnection mail = uri.openConnection();
                        BufferedReader in = new BufferedReader(
                            new InputStreamReader(
                                mail.getInputStream()));
                        String inputLine;

                        while ((inputLine = in.readLine()) != null) {
                        }
                        in.close();

                    } catch (Exception e) {
                    }
                }
            }
        }

    }//GEN-LAST:event_jTable5MouseClicked

    private void jButton7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton7ActionPerformed
        if (Desktop.isDesktopSupported()) {
            Desktop desktop = Desktop.getDesktop();
            try {
                URI uri = new URI("https://agenda.fututel.com/proyecto/views/views.php");
                desktop.browse(uri);
            } catch (Exception e) {
                System.err.println("Error: No se pudo abrir el enlace" + e.getMessage());
            }
        } else {
            System.err.println("Error: No se puede abrir enlaces web.");
        }
    }//GEN-LAST:event_jButton7ActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(ConsultarAgenda.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(ConsultarAgenda.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(ConsultarAgenda.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(ConsultarAgenda.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new ConsultarAgenda().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel ASIGNADO;
    private javax.swing.JLabel ASIGNADO1;
    private javax.swing.JTextField CC;
    private javax.swing.JTextField CELULAR;
    private javax.swing.JTextPane COMENT;
    private javax.swing.JComboBox<String> Combox1;
    private javax.swing.JComboBox<String> Combox2;
    private com.toedter.calendar.JDateChooser DATE;
    private javax.swing.JTextField DIRECCION;
    private javax.swing.JTextField NOMBRE;
    private javax.swing.JTextField Nombre_txt;
    private javax.swing.JTextField Nombre_txt1;
    private javax.swing.JTextField Nombre_txt2;
    private javax.swing.JTextField Nombre_txt3;
    private javax.swing.JTextField Nombre_txt4;
    private javax.swing.JTextField Nombre_txt5;
    private javax.swing.JTextField Nombre_txt6;
    private javax.swing.JTextField Nombre_txt7;
    private javax.swing.JTextField Nombre_txt9;
    private javax.swing.JTextField Titulo;
    private javax.swing.JTextField Titulo1;
    private javax.swing.JLabel User;
    private javax.swing.JLabel User1;
    private javax.swing.JButton asignar;
    private javax.swing.JTextField buscar;
    private javax.swing.JTextArea coment;
    private javax.swing.JTextField formatCC;
    private javax.swing.JTextField idC;
    private javax.swing.JButton instalada;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton10;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton7;
    private javax.swing.JButton jButton8;
    private javax.swing.JButton jButton9;
    private javax.swing.JFrame jFrame1;
    private javax.swing.JFrame jFrame2;
    private javax.swing.JFrame jFrame3;
    private javax.swing.JFrame jFrame4;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane6;
    private javax.swing.JTable jTable2;
    private javax.swing.JTable jTable5;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JTextField jTextField4;
    private javax.swing.JTextField jTextField5;
    private javax.swing.JTextField jTextField6;
    private javax.swing.JTextField jTextField7;
    private javax.swing.JTextField jTextField8;
    private javax.swing.JTextField jTextField9;
    private javax.swing.JComboBox<String> nueva;
    private javax.swing.JComboBox<String> por;
    private javax.swing.JTextField precio;
    private javax.swing.JComboBox<String> tipoA;
    private javax.swing.JComboBox<String> zonas;
    private javax.swing.JComboBox<String> zonas1;
    // End of variables declaration//GEN-END:variables
}
